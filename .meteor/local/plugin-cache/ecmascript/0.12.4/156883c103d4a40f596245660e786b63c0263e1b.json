{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/member.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/core/member.js","filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/member.js","passPerPreset":false,"envName":"development","cwd":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","root":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/member.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/core/member.js"}},"code":"let Session;\nmodule.link(\"meteor/session\", {\n  Session(v) {\n    Session = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 2);\nmodule.link(\"./member.html\");\n\nTemplate.member.created = function () {\n  Session.set('limit', 50);\n  Session.set('oFILTERS', {});\n  Session.set('oOPTIONS', {});\n  Session.set('textSearch', '');\n  Session.set('namaHeader', 'DATA MEMBER');\n  Session.set('dataDelete', '');\n  Session.set('isCreating', false);\n  Session.set('isEditing', false);\n  SetFOTO(200, 300, 'updateFotoBackground', pictProfileBackground(\"\"), \"\");\n  this.autorun(function () {\n    subscribtion('member', Session.get('oFILTERS'), Session.get('oOPTIONS'), Session.get('limit'));\n  });\n};\n\nTemplate.member.onRendered(function () {\n  ScrollHandler();\n});\nTemplate.member.helpers({\n  isLockMenu: function () {\n    return isLockMenu();\n  },\n  pictProfile: function () {\n    return pictProfile(this._id);\n  },\n  pictProfileBackground: function () {\n    return pictProfileBackground(this._id);\n  },\n  sAvatar: function () {\n    return sAvatar;\n  },\n  emailUsers: function () {\n    var emailUser = this.emails;\n\n    if (adaDATA(emailUser)) {\n      return this.emails[0].address;\n    } else if (adaDATA(this.services)) {\n      return this.services.google.email;\n    }\n  },\n  isEditing: function () {\n    return Session.get('idEditing') === this._id;\n  },\n  isCreating: function () {\n    return Session.get('isCreating');\n  },\n  members: function () {\n    var textSearch = '';\n\n    if (adaDATA(Session.get('textSearch'))) {\n      textSearch = Session.get('textSearch').replace('#', '').trim();\n    }\n\n    var oOPTIONS = {\n      sort: {\n        _id: -1\n      },\n      limit: Session.get('limit')\n    };\n    var oFILTERS = {\n      $or: [{\n        _id: {\n          $regex: textSearch,\n          $options: 'i'\n        }\n      }, {\n        'profile.name': {\n          $regex: textSearch,\n          $options: 'i'\n        }\n      }]\n    };\n    Session.set('oOPTIONS', oOPTIONS);\n    Session.set('oFILTERS', oFILTERS);\n    return MEMBER.find(oFILTERS, oOPTIONS);\n  }\n});\nTemplate.member.events({\n  'click a.ubahProfile': function (e, tpl) {\n    e.preventDefault();\n    SetFOTO(400, 500, 'updateFotoBackground', pictProfileBackground(this._id), this._id);\n    $('#editYourAvatarModal').modal();\n  },\n  'click a.cancel': function (e, tpl) {\n    e.preventDefault();\n    Session.set('isCreating', false);\n    Session.set('isEditing', false);\n    Session.set('idEditing', '');\n  },\n  'click a.deleteDataOK': function (e, tpl) {\n    e.preventDefault();\n    Meteor.call('deleteUser', Session.get(\"idDeleting\"));\n    FlashMessages.sendWarning('Attention, ' + Session.get('dataDelete') + ' successfully DELETE !');\n    $(\"#modal_formDeleting\").modal('hide');\n  },\n  'click a.deleteData': function (e, tpl) {\n    e.preventDefault();\n    Session.set('dataDelete', Session.get('namaHeader').toLowerCase() + ' ' + this.profile.name);\n    Session.set('idDeleting', this._id);\n    $(\"#modal_formDeleting\").modal('show');\n  },\n  'click a.create': function (e, tpl) {\n    e.preventDefault();\n    Session.set('isCreating', true);\n  },\n  'keyup #namaMEMBER': function (e, tpl) {\n    e.preventDefault();\n\n    if (e.keyCode == 13) {\n      insertMEMBER(tpl);\n    }\n  },\n  'click a.save': function (e, tpl) {\n    e.preventDefault();\n    insertMEMBER(tpl);\n  },\n  'click a.authMember': function (e, tpl) {\n    e.preventDefault();\n    Session.set('idMember', this._id);\n    Session.set('namaMember', this.profile.name);\n    Router.go(\"menuAuth\");\n  },\n  'click a.editData': function (e, tpl) {\n    e.preventDefault();\n    Session.set('idEditing', this._id);\n    Session.set('namaMember', this.profile.name);\n    Session.set('emailEditing', this.emails[0].address);\n  },\n  'keyup #namaEditMEMBER': function (e, tpl) {\n    e.preventDefault();\n\n    if (e.keyCode == 13) {\n      updateMEMBER(tpl);\n    }\n  },\n  'click a.saveEDIT': function (e, tpl) {\n    e.preventDefault();\n    updateMEMBER(tpl);\n  }\n});\n\ninsertMEMBER = function (tpl) {\n  var textFirstName = tpl.$('input[name=textFirstName]').val();\n  var textLastName = tpl.$('input[name=textLastName]').val();\n  var textEmail = tpl.$('input[name=textEmail]').val();\n  var textPassword = tpl.$('input[name=textPassword]').val();\n  var textPasswordRetype = tpl.$('input[name=textPasswordRetype]').val();\n\n  if (textPassword != textPasswordRetype) {\n    FlashMessages.sendWarning('Sorry, Please retype your password corectlly !');\n    return;\n  }\n\n  if (!adaDATA(textFirstName) | !adaDATA(textLastName) | !adaDATA(textEmail)) {\n    FlashMessages.sendWarning('Please complete all of the data to be . . .');\n    return;\n  }\n\n  Meteor.call('createUserNew', textFirstName + ' ' + textLastName, textEmail, textPassword, function (err) {\n    if (err == \"GAGAL\") {\n      FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n    } else {\n      Session.set('isCreating', false);\n      FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n    }\n  });\n  insertLogs(\"CREATE ACCOUNT \" + textFirstName + ' ' + textLastName, \" \" + UserName() + \" create new user account.\");\n};\n\nupdateMEMBER = function (tpl) {\n  var emailNew = tpl.$('input[name=\"emailNew\"]').val();\n  var newPassword = tpl.$('input[name=\"newPassword\"]').val();\n  var retypePassword = tpl.$('input[name=\"retypePassword\"]').val();\n\n  if (!adaDATA(emailNew) & (!adaDATA(newPassword) | !adaDATA(retypePassword))) {\n    FlashMessages.sendWarning('Please complete all of the data to be . . .');\n    return;\n  }\n\n  if (adaDATA(newPassword) | adaDATA(retypePassword)) {\n    if (newPassword !== retypePassword) {\n      FlashMessages.sendWarning('Please check data change password . . .');\n      return;\n    }\n  }\n\n  var dataMember = MEMBER.findOne({\n    'emails.address': emailNew\n  });\n\n  if (adaDATA(dataMember)) {\n    if (dataMember._id != Session.get(\"idEditing\")) {\n      FlashMessages.sendWarning('Sorry, Email already use by ' + dataMember.profile.name);\n    } else {\n      Meteor.call('updateUserData', Session.get(\"idEditing\"), emailNew, newPassword, function (err) {\n        console.log(err);\n\n        if (err == \"GAGAL\") {\n          FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n        } else {\n          Session.set('isCreating', false);\n          FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n        }\n      });\n      Session.set('idEditing', \"\");\n      insertLogs(\"UPDATE DATA MEMBER \", \" \" + username() + \" change data email or password user \" + Session.get(\"namaMember\").toUpperCase(), \"SUCCESS\");\n    }\n  }\n};","map":{"version":3,"sources":["client/views/core/member.js"],"names":["Session","module","link","v","Meteor","Template","member","created","set","SetFOTO","pictProfileBackground","autorun","subscribtion","get","onRendered","ScrollHandler","helpers","isLockMenu","pictProfile","_id","sAvatar","emailUsers","emailUser","emails","adaDATA","address","services","google","email","isEditing","isCreating","members","textSearch","replace","trim","oOPTIONS","sort","limit","oFILTERS","$or","$regex","$options","MEMBER","find","events","e","tpl","preventDefault","$","modal","call","FlashMessages","sendWarning","toLowerCase","profile","name","keyCode","insertMEMBER","Router","go","updateMEMBER","textFirstName","val","textLastName","textEmail","textPassword","textPasswordRetype","err","sendSuccess","insertLogs","UserName","emailNew","newPassword","retypePassword","dataMember","findOne","console","log","username","toUpperCase"],"mappings":"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","sourcesContent":["/**\n * Generated from flexurio tools\n * Flexurio By Pamungkas Jayuda yulius.jayuda@gmail.com / +628119003077\n */\n\nimport {Session} from \"meteor/session\";\nimport {Meteor} from \"meteor/meteor\";\nimport {Template} from \"meteor/templating\";\nimport \"./member.html\";\n\nTemplate.member.created = function () {\n    Session.set('limit', 50); Session.set('oFILTERS', {}); Session.set('oOPTIONS', {});\n    Session.set('textSearch', '');\n    Session.set('namaHeader', 'DATA MEMBER');\n    Session.set('dataDelete', '');\n    Session.set('isCreating', false); Session.set('isEditing', false);\n\n    SetFOTO(200, 300, 'updateFotoBackground', pictProfileBackground(\"\"), \"\");\n\n    this.autorun(function () {\n        subscribtion('member', Session.get('oFILTERS'), Session.get('oOPTIONS'), Session.get('limit'));\n    });\n};\n\nTemplate.member.onRendered(function () {\n    ScrollHandler();\n});\n\nTemplate.member.helpers({\n    isLockMenu: function () {\n        return isLockMenu();\n    },\n\n    pictProfile: function () {\n        return pictProfile(this._id);\n    },\n    pictProfileBackground: function () {\n        return pictProfileBackground(this._id);\n    },\n    sAvatar: function () {\n        return sAvatar;\n    },\n    emailUsers: function () {\n        var emailUser = this.emails;\n        if (adaDATA(emailUser)) {\n            return this.emails[0].address;\n        } else if (adaDATA(this.services)) {\n            return this.services.google.email;\n        }\n    },\n    isEditing: function () {\n        return Session.get('idEditing') === this._id;\n    },\n    isCreating: function () {\n        return Session.get('isCreating');\n    },\n    members: function () {\n        var textSearch = '';\n        if (adaDATA(Session.get('textSearch'))) {\n            textSearch = Session.get('textSearch').replace('#', '').trim();\n        }\n\n        var oOPTIONS = {\n            sort: {_id: -1},\n            limit: Session.get('limit')\n        };\n\n        var oFILTERS = {\n            $or: [\n                {_id: {$regex: textSearch, $options: 'i'}},\n                {'profile.name': {$regex: textSearch, $options: 'i'}},\n            ]\n        };\n\n        Session.set('oOPTIONS', oOPTIONS);\n        Session.set('oFILTERS', oFILTERS);\n\n        return MEMBER.find(\n            oFILTERS,\n            oOPTIONS\n        );\n    }\n});\n\nTemplate.member.events({\n    'click a.ubahProfile': function (e, tpl) {\n        e.preventDefault();\n        SetFOTO(400, 500, 'updateFotoBackground', pictProfileBackground(this._id), this._id);\n        $('#editYourAvatarModal').modal();\n    },\n    'click a.cancel': function (e, tpl) {\n        e.preventDefault();\n        Session.set('isCreating', false); Session.set('isEditing', false);\n        Session.set('idEditing', '');\n\n    },\n\n    'click a.deleteDataOK': function (e, tpl) {\n        e.preventDefault();\n        Meteor.call('deleteUser', Session.get(\"idDeleting\"));\n        FlashMessages.sendWarning('Attention, ' + Session.get('dataDelete') + ' successfully DELETE !');\n        $(\"#modal_formDeleting\").modal('hide');\n    },\n    'click a.deleteData': function (e, tpl) {\n        e.preventDefault();\n        Session.set('dataDelete', Session.get('namaHeader').toLowerCase() + ' ' + this.profile.name);\n        Session.set('idDeleting', this._id);\n        $(\"#modal_formDeleting\").modal('show');\n    },\n\n    'click a.create': function (e, tpl) {\n        e.preventDefault();\n        Session.set('isCreating', true);\n    },\n    'keyup #namaMEMBER': function (e, tpl) {\n        e.preventDefault();\n        if (e.keyCode == 13) {\n            insertMEMBER(tpl);\n        }\n    },\n    'click a.save': function (e, tpl) {\n        e.preventDefault();\n        insertMEMBER(tpl);\n    },\n    'click a.authMember': function (e, tpl) {\n        e.preventDefault();\n        Session.set('idMember', this._id);\n        Session.set('namaMember', this.profile.name);\n        Router.go(\"menuAuth\");\n    },\n    'click a.editData': function (e, tpl) {\n        e.preventDefault();\n        Session.set('idEditing', this._id);\n        Session.set('namaMember', this.profile.name);\n        Session.set('emailEditing', this.emails[0].address);\n    },\n    'keyup #namaEditMEMBER': function (e, tpl) {\n        e.preventDefault();\n        if (e.keyCode == 13) {\n            updateMEMBER(tpl);\n        }\n    },\n    'click a.saveEDIT': function (e, tpl) {\n        e.preventDefault();\n        updateMEMBER(tpl);\n    }\n\n});\n\n\ninsertMEMBER = function (tpl) {\n\n    var textFirstName = tpl.$('input[name=textFirstName]').val();\n    var textLastName = tpl.$('input[name=textLastName]').val();\n    var textEmail = tpl.$('input[name=textEmail]').val();\n    var textPassword = tpl.$('input[name=textPassword]').val();\n    var textPasswordRetype = tpl.$('input[name=textPasswordRetype]').val();\n\n    if (textPassword != textPasswordRetype) {\n        FlashMessages.sendWarning('Sorry, Please retype your password corectlly !');\n        return;\n    }\n\n    if (!adaDATA(textFirstName) | !adaDATA(textLastName) | !adaDATA(textEmail)) {\n        FlashMessages.sendWarning('Please complete all of the data to be . . .');\n        return;\n    }\n\n    Meteor.call('createUserNew', textFirstName + ' ' + textLastName, textEmail, textPassword, function (err) {\n        if (err == \"GAGAL\") {\n            FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n        } else {\n            Session.set('isCreating', false);\n            FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n        }\n    });\n\n    insertLogs(\"CREATE ACCOUNT \" + textFirstName + ' ' + textLastName, \" \" + UserName() + \" create new user account.\");\n\n};\n\nupdateMEMBER = function (tpl) {\n\n    var emailNew = tpl.$('input[name=\"emailNew\"]').val();\n    var newPassword = tpl.$('input[name=\"newPassword\"]').val();\n    var retypePassword = tpl.$('input[name=\"retypePassword\"]').val();\n\n\n    if (!adaDATA(emailNew) & (!adaDATA(newPassword) | !adaDATA(retypePassword))) {\n        FlashMessages.sendWarning('Please complete all of the data to be . . .');\n        return;\n    }\n\n    if (adaDATA(newPassword) | adaDATA(retypePassword)) {\n        if (newPassword !== retypePassword) {\n            FlashMessages.sendWarning('Please check data change password . . .');\n            return;\n        }\n    }\n\n\n    var dataMember = MEMBER.findOne({'emails.address': emailNew});\n    if (adaDATA(dataMember)) {\n        if(dataMember._id != Session.get(\"idEditing\")){\n            FlashMessages.sendWarning('Sorry, Email already use by ' + dataMember.profile.name);\n        } else {\n            Meteor.call('updateUserData', Session.get(\"idEditing\"), emailNew, newPassword, function (err) {\n                console.log(err);\n                if (err == \"GAGAL\") {\n                    FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n                } else {\n                    Session.set('isCreating', false);\n                    FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n                }\n            });\n\n            Session.set('idEditing', \"\");\n            insertLogs(\"UPDATE DATA MEMBER \", \" \" + username() + \" change data email or password user \" + Session.get(\"namaMember\").toUpperCase(), \"SUCCESS\");\n        }\n    }\n\n};\n"]},"sourceType":"script","hash":"156883c103d4a40f596245660e786b63c0263e1b"}
