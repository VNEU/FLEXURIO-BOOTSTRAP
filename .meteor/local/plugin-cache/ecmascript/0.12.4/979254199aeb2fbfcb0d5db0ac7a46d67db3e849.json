{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/menuAuth.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/core/menuAuth.js","filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/menuAuth.js","passPerPreset":false,"envName":"development","cwd":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","root":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/menuAuth.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/core/menuAuth.js"}},"code":"let Session;\nmodule.link(\"meteor/session\", {\n  Session(v) {\n    Session = v;\n  }\n\n}, 0);\n\nTemplate.menuAuth.created = function () {\n  if (!adaDATA(Session.get('idMember'))) {\n    Router.go(\"member\");\n  }\n\n  Session.set('limit', 500);\n  Session.set('textSearch', '');\n  Session.set('namaHeader', 'AUTH USER : ' + Session.get('namaMember').toUpperCase());\n  subscribtion('memberku', {}, {}, 0);\n  subscribtion('menu', {}, {}, 0);\n  subscribtion('menuAuthku', {}, {}, 0);\n  subscribtion('menuGroup', {}, {}, 0);\n  this.autorun(function () {\n    subscribtion('menuAuth', Session.get('oFILTERS'), Session.get('oOPTIONS'), Session.get('limit'));\n  });\n};\n\nTemplate.member.onRendered(function () {\n  ScrollHandler();\n});\nTemplate.menuAuth.helpers({\n  isLockMenu: function () {\n    return isLockMenu();\n  },\n  sTinggiPopUp: function () {\n    return 0.6 * $(window).height();\n  },\n  sGeneralFont: function () {\n    return sGeneralFont;\n  },\n  DownloadDiPilih: function () {\n    return warnaMENU(\"DOWNLOAD\", this._id);\n  },\n  PrintDiPilih: function () {\n    return warnaMENU(\"PRINT\", this._id);\n  },\n  ConfirmDiPilih: function () {\n    return warnaMENU(\"CONFIRM\", this._id);\n  },\n  AddDiPilih: function () {\n    return warnaMENU(\"ADD\", this._id);\n  },\n  EditDiPilih: function () {\n    return warnaMENU(\"EDIT\", this._id);\n  },\n  DeleteDiPilih: function () {\n    return warnaMENU(\"DELETE\", this._id);\n  },\n  sideMenuGroup: function () {\n    let textSearch = '';\n\n    if (adaDATA(Session.get('textSearch'))) {\n      textSearch = Session.get('textSearch').replace('#', '').trim();\n    }\n\n    let dataMenu = MENU.find({\n      namaMENU: {\n        $regex: textSearch,\n        $options: 'i'\n      }\n    });\n    let idGroupMenu = dataMenu.map(function (p) {\n      return p.groupMENU;\n    });\n    return MENUGROUP.find({\n      namaMENUGROUP: {\n        $in: idGroupMenu\n      }\n    }, {\n      sort: {\n        locationsMENUGROUP: 1\n      }\n    });\n  },\n  sideMenu: function () {\n    let textSearch = '';\n\n    if (adaDATA(Session.get('textSearch'))) {\n      textSearch = Session.get('textSearch').replace('#', '').trim();\n    }\n\n    return MENU.find({\n      groupMENU: this.namaMENUGROUP,\n      namaMENU: {\n        $regex: textSearch,\n        $options: 'i'\n      }\n    });\n  },\n  isCreating: function () {\n    return Session.get('isCreating');\n  }\n});\nTemplate.menuAuth.events({\n  'keyup #searchBox': function (e, tpl) {\n    e.preventDefault();\n    let textSearch = tpl.$('input[name=\"searchBox\"]').val();\n    Session.set('textSearch', textSearch);\n  },\n  'click a.allAuth': function (e, tpl) {\n    e.preventDefault();\n    insertMENUAUTH(\"ADD\", this._id);\n    insertMENUAUTH(\"EDIT\", this._id);\n    insertMENUAUTH(\"DELETE\", this._id);\n    insertMENUAUTH(\"DOWNLOAD\", this._id);\n    insertMENUAUTH(\"PRINT\", this._id);\n    insertMENUAUTH(\"CONFIRM\", this._id);\n  },\n  'click a.downloadAuth': function (e, tpl) {\n    e.preventDefault();\n    insertMENUAUTH(\"DOWNLOAD\", this._id);\n  },\n  'click a.printAuth': function (e, tpl) {\n    e.preventDefault();\n    insertMENUAUTH(\"PRINT\", this._id);\n  },\n  'click a.confirmAuth': function (e, tpl) {\n    e.preventDefault();\n    insertMENUAUTH(\"CONFIRM\", this._id);\n  },\n  'click a.addAuth': function (e, tpl) {\n    e.preventDefault();\n    insertMENUAUTH(\"ADD\", this._id);\n  },\n  'click a.editAuth': function (e, tpl) {\n    e.preventDefault();\n    insertMENUAUTH(\"EDIT\", this._id);\n  },\n  'click a.deleteAuth': function (e, tpl) {\n    e.preventDefault();\n    insertMENUAUTH(\"DELETE\", this._id);\n  }\n});\n\nwarnaMENU = function (authTipe, idMenu) {\n  var dataAUTH = MENUAUTH.find({\n    userId: Session.get('idMember'),\n    idMENU: idMenu,\n    authTipe: authTipe\n  }).fetch();\n\n  if (adaDATA(dataAUTH)) {\n    return \"green\";\n  } else {\n    return \"gray\";\n  }\n};\n\ninsertMENUAUTH = function (authTipe, idMenu) {\n  var menuArray = MENU.findOne({\n    _id: idMenu\n  });\n  var dataAUTH = MENUAUTH.find({\n    userId: Session.get('idMember'),\n    idMENU: idMenu,\n    authTipe: authTipe\n  });\n\n  if (adaDATA(dataAUTH.fetch())) {\n    dataAUTH.forEach(function (obj) {\n      MENUAUTH.remove({\n        _id: obj._id\n      });\n    });\n    insertLogs(\"AUTH MEMBER\", UserName() + \" REMOVE Authentication type `\" + authTipe + \"` to \" + Session.get(\"namaMember\").toUpperCase() + \" MENU : \" + menuArray.namaMENU + \"\");\n  } else {\n    MENUAUTH.insert({\n      userId: Session.get('idMember'),\n      idMENU: idMenu,\n      namaMENU: menuArray.namaMENU,\n      groupMENU: menuArray.groupMENU,\n      routerMENU: menuArray.routerMENU,\n      authTipe: authTipe\n    });\n    insertLogs(\"AUTH MEMBER\", UserName() + \" ALLOW Authentication type `\" + authTipe + \"` to \" + Session.get(\"namaMember\").toUpperCase() + \" MENU : \" + menuArray.namaMENU + \"\");\n  }\n};","map":{"version":3,"sources":["client/views/core/menuAuth.js"],"names":["Session","module","link","v","Template","menuAuth","created","adaDATA","get","Router","go","set","toUpperCase","subscribtion","autorun","member","onRendered","ScrollHandler","helpers","isLockMenu","sTinggiPopUp","$","window","height","sGeneralFont","DownloadDiPilih","warnaMENU","_id","PrintDiPilih","ConfirmDiPilih","AddDiPilih","EditDiPilih","DeleteDiPilih","sideMenuGroup","textSearch","replace","trim","dataMenu","MENU","find","namaMENU","$regex","$options","idGroupMenu","map","p","groupMENU","MENUGROUP","namaMENUGROUP","$in","sort","locationsMENUGROUP","sideMenu","isCreating","events","e","tpl","preventDefault","val","insertMENUAUTH","authTipe","idMenu","dataAUTH","MENUAUTH","userId","idMENU","fetch","menuArray","findOne","forEach","obj","remove","insertLogs","UserName","insert","routerMENU"],"mappings":"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","sourcesContent":["/**\n * Generated from flexurio tools\n * Flexurio By Pamungkas Jayuda yulius.jayuda@gmail.com / +628119003077\n */\n\n\nimport {Session} from \"meteor/session\";\n\nTemplate.menuAuth.created = function () {\n    if (!adaDATA(Session.get('idMember'))) {\n        Router.go(\"member\");\n    }\n\n    Session.set('limit', 500);\n    Session.set('textSearch', '');\n    Session.set('namaHeader', 'AUTH USER : ' + Session.get('namaMember').toUpperCase());\n    subscribtion('memberku', {}, {}, 0);\n    subscribtion('menu', {}, {}, 0);\n    subscribtion('menuAuthku', {}, {}, 0);\n    subscribtion('menuGroup', {}, {}, 0);\n\n\n    this.autorun(function () {\n        subscribtion('menuAuth', Session.get('oFILTERS'), Session.get('oOPTIONS'), Session.get('limit'));\n    });\n};\n\nTemplate.member.onRendered(function () {\n    ScrollHandler();\n});\n\n\nTemplate.menuAuth.helpers({\n    isLockMenu: function () {\n        return isLockMenu();\n    },\n\n    sTinggiPopUp: function () {\n        return 0.6 * ($(window).height());\n    },\n    sGeneralFont: function () {\n        return sGeneralFont;\n    },\n    DownloadDiPilih: function () {\n        return warnaMENU(\"DOWNLOAD\", this._id);\n    },\n    PrintDiPilih: function () {\n        return warnaMENU(\"PRINT\", this._id);\n    },\n    ConfirmDiPilih: function () {\n        return warnaMENU(\"CONFIRM\", this._id);\n    },\n    AddDiPilih: function () {\n        return warnaMENU(\"ADD\", this._id);\n    },\n    EditDiPilih: function () {\n        return warnaMENU(\"EDIT\", this._id);\n    },\n    DeleteDiPilih: function () {\n        return warnaMENU(\"DELETE\", this._id);\n    },\n\n    sideMenuGroup: function () {\n        let textSearch = '';\n        if (adaDATA(Session.get('textSearch'))) {\n            textSearch = Session.get('textSearch').replace('#', '').trim();\n        }\n\n        let dataMenu = MENU.find({namaMENU: {$regex: textSearch, $options: 'i'}});\n        let idGroupMenu = dataMenu.map(function (p) {\n            return p.groupMENU\n        });\n\n        return MENUGROUP.find({namaMENUGROUP: {$in: idGroupMenu}}, {sort: {locationsMENUGROUP: 1}});\n    },\n    sideMenu: function () {\n        let textSearch = '';\n        if (adaDATA(Session.get('textSearch'))) {\n            textSearch = Session.get('textSearch').replace('#', '').trim();\n        }\n        return MENU.find(\n            {\n                groupMENU: this.namaMENUGROUP,\n                namaMENU: {$regex: textSearch, $options: 'i'}\n            }\n        );\n    },\n    isCreating: function () {\n        return Session.get('isCreating');\n    },\n});\n\nTemplate.menuAuth.events({\n    'keyup #searchBox': function (e, tpl) {\n        e.preventDefault();\n        let textSearch = tpl.$('input[name=\"searchBox\"]').val();\n        Session.set('textSearch', textSearch);\n    },\n    'click a.allAuth': function (e, tpl) {\n        e.preventDefault();\n        insertMENUAUTH(\"ADD\", this._id);\n        insertMENUAUTH(\"EDIT\", this._id);\n        insertMENUAUTH(\"DELETE\", this._id);\n        insertMENUAUTH(\"DOWNLOAD\", this._id);\n        insertMENUAUTH(\"PRINT\", this._id);\n        insertMENUAUTH(\"CONFIRM\", this._id);\n    },\n    'click a.downloadAuth': function (e, tpl) {\n        e.preventDefault();\n        insertMENUAUTH(\"DOWNLOAD\", this._id);\n    },\n    'click a.printAuth': function (e, tpl) {\n        e.preventDefault();\n        insertMENUAUTH(\"PRINT\", this._id);\n    },\n    'click a.confirmAuth': function (e, tpl) {\n        e.preventDefault();\n        insertMENUAUTH(\"CONFIRM\", this._id);\n    },\n    'click a.addAuth': function (e, tpl) {\n        e.preventDefault();\n        insertMENUAUTH(\"ADD\", this._id);\n    },\n    'click a.editAuth': function (e, tpl) {\n        e.preventDefault();\n        insertMENUAUTH(\"EDIT\", this._id);\n    },\n    'click a.deleteAuth': function (e, tpl) {\n        e.preventDefault();\n        insertMENUAUTH(\"DELETE\", this._id);\n    },\n\n});\n\nwarnaMENU = function (authTipe, idMenu) {\n    var dataAUTH = MENUAUTH.find({userId: Session.get('idMember'), idMENU: idMenu, authTipe: authTipe}).fetch();\n    if (adaDATA(dataAUTH)) {\n        return \"green\";\n    } else {\n        return \"gray\";\n    }\n};\n\ninsertMENUAUTH = function (authTipe, idMenu) {\n    var menuArray = MENU.findOne({_id: idMenu});\n    var dataAUTH = MENUAUTH.find({userId: Session.get('idMember'), idMENU: idMenu, authTipe: authTipe});\n    if (adaDATA(dataAUTH.fetch())) {\n        dataAUTH.forEach(function (obj) {\n            MENUAUTH.remove({_id: obj._id});\n        });\n        insertLogs(\"AUTH MEMBER\", UserName() + \" REMOVE Authentication type `\" + authTipe + \"` to \" + Session.get(\"namaMember\").toUpperCase() + \" MENU : \" + menuArray.namaMENU + \"\");\n    } else {\n        MENUAUTH.insert(\n            {\n                userId: Session.get('idMember'),\n                idMENU: idMenu,\n                namaMENU: menuArray.namaMENU,\n                groupMENU: menuArray.groupMENU,\n                routerMENU: menuArray.routerMENU,\n                authTipe: authTipe\n            }\n        );\n        insertLogs(\"AUTH MEMBER\", UserName() + \" ALLOW Authentication type `\" + authTipe + \"` to \" + Session.get(\"namaMember\").toUpperCase() + \" MENU : \" + menuArray.namaMENU + \"\");\n    }\n\n};"]},"sourceType":"script","hash":"979254199aeb2fbfcb0d5db0ac7a46d67db3e849"}
