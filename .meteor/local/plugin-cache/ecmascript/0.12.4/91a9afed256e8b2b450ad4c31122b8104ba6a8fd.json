{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/message.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","dynamicImport","classProperties","classPrivateProperties","jsx",["flow",{}],"asyncGenerators","objectRestSpread","objectRestSpread",["flow",{}],"asyncGenerators"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/core/message.js","filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/message.js","passPerPreset":false,"envName":"development","cwd":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","root":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","plugins":[{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/client/views/core/message.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/core/message.js"}},"code":"let Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 0);\nlet Session;\nmodule.link(\"meteor/session\", {\n  Session(v) {\n    Session = v;\n  }\n\n}, 1);\nlet ReactiveVar;\nmodule.link(\"meteor/reactive-var\", {\n  ReactiveVar(v) {\n    ReactiveVar = v;\n  }\n\n}, 2);\nmodule.link(\"./message.html\");\nvar toMessage = new ReactiveVar([]);\n\nTemplate.message.created = function () {\n  Session.set('limit', 50);\n  Session.set('oFILTERS', {});\n  Session.set('oOPTIONS', {});\n  Session.set('textSearch', '');\n  Session.set('namaHeader', 'DATA MESSAGE');\n  Session.set('dataDelete', '');\n  Session.set('isCreating', false);\n  Session.set('isEditing', false);\n  Session.set('oFILTERSMembers', {});\n  Session.set('oFILTERS', {});\n  Session.set('oOPTIONS', {});\n  Session.set('flxauto_message_status', true);\n  Session.set('flxauto_message_data', MENU.findOne());\n  this.autorun(function () {\n    subscribtion('member', {}, Session.get('oOPTIONS_toMessage'), 0);\n    Meteor.subscribe('message', Session.get('limit'));\n    Meteor.subscribe('messageMember', Session.get('limit'));\n  });\n};\n\nTemplate.message.onRendered(function () {\n  ScrollHandler();\n});\nTemplate.message.helpers({\n  isiMessage: function () {\n    var converter = new Showdown.converter();\n    var isi = converter.makeHtml(this.text);\n    return isi;\n  },\n  penerima: function () {\n    return toMessage.get();\n  },\n  datasearchBox: function () {\n    return Session.get('toMessage');\n  },\n  objectCARI: function () {\n    return TIMELINES.findOne();\n  },\n  isLockMenu: function () {\n    return isLockMenu();\n  },\n  sHeaderBackground: function () {\n    return sHeaderBackground;\n  },\n  sTinggiPopUp: function () {\n    return 0.8 * $(window).height();\n  },\n  isCreating: function () {\n    return Session.get('isCreating');\n  },\n  messagesMember: function () {\n    return MESSAGEMEMBER.find({\n      idMessage: this._id\n    });\n  },\n  messages: function () {\n    var textSearch = '';\n\n    if (adaDATA(Session.get('textSearch'))) {\n      textSearch = Session.get('textSearch').replace('#', '').trim();\n    }\n\n    var dataMESSAGE = MESSAGEMEMBER.find({\n      username: EmailUser(),\n      aktifYN: 1\n    });\n    var idMessage = dataMESSAGE.map(function (p) {\n      return p.idMessage;\n    });\n    var oFILTERS = {\n      _id: {\n        $in: idMessage\n      },\n      aktifYN: 1,\n      $or: [{\n        subject: {\n          $regex: textSearch,\n          $options: 'i'\n        }\n      }, {\n        text: {\n          $regex: textSearch,\n          $options: 'i'\n        }\n      }]\n    };\n    var oOPTIONS = {\n      sort: {\n        createAt: -1\n      },\n      limit: Session.get('limit')\n    };\n    Session.set('oOPTIONS', oOPTIONS);\n    Session.set('oFILTERS', oFILTERS);\n    return MESSAGE.find(oFILTERS, oOPTIONS);\n  }\n});\nTemplate.message.events({\n  'keyup input#toMessage': function (e, tpl) {\n    flxautocomplete.autocomplete({\n      name: 'toMessage',\n      element: 'input#toMessage',\n      collection: MEMBER,\n      field: ['profile.name', 'username'],\n      fields: {\n        profile: 1,\n        username: 1\n      },\n      limit: 0,\n      sort: {\n        'profile.name': 1\n      },\n      filter: {}\n    });\n  },\n  'change input#toMessage': function (e, tpl) {\n    var dataPilih = tpl.$('input[name=\"toMessage\"]').val();\n\n    if (dataPilih.length > 10) {\n      var allmember = toMessage.get();\n      dataMember = MEMBER.findOne({\n        username: dataPilih\n      });\n\n      if (adaDATA(dataMember)) {\n        allmember.push({\n          username: dataMember.username\n        });\n        toMessage.set(allmember);\n        document.getElementById(\"toMessage\").value = \"\";\n      } else {\n        FlashMessages.sendError('Emails not valid !');\n      }\n    }\n  },\n  'click a.hapusTerima': function (e, tpl) {\n    var penerimaAll = toMessage.get();\n    penerimaAll = ArrayRemove(penerimaAll, 'username', e.currentTarget.id);\n    toMessage.set(penerimaAll);\n  },\n  'click a.cancel': function (e, tpl) {\n    e.preventDefault();\n    Session.set('isCreating', false);\n    Session.set('isEditing', false);\n    Session.set('idEditing', '');\n  },\n  'click a.deleteDataOK': function (e, tpl) {\n    e.preventDefault();\n    deleteMESSAGE();\n    FlashMessages.sendWarning('Attention, ' + Session.get('dataDelete') + ' successfully DELETE !');\n    $(\"#modal_formDeleting\").modal('hide');\n  },\n  'click a.deleteData': function (e, tpl) {\n    e.preventDefault();\n    Session.set('dataDelete', Session.get('namaHeader').toLowerCase() + ' \"' + this.subject + '\" From \"' + this.createBy + '\" ');\n    Session.set('idDeleting', this._id);\n    $(\"#modal_formDeleting\").modal('show');\n  },\n  'click a.create': function (e, tpl) {\n    e.preventDefault();\n    toMessage.set([]);\n    Scroll2Top();\n    Session.set('isCreating', true);\n  },\n  'keyup #namaMESSAGE': function (e, tpl) {\n    e.preventDefault();\n\n    if (e.keyCode == 13) {\n      insertMESSAGE(tpl);\n    }\n  },\n  'click a.save': function (e, tpl) {\n    e.preventDefault();\n    insertMESSAGE(tpl);\n  },\n  'click a.editData': function (e, tpl) {\n    e.preventDefault();\n    Session.set('idEditing', this._id);\n  },\n  'keyup #namaEditMESSAGE': function (e, tpl) {\n    e.preventDefault();\n\n    if (e.keyCode == 13) {\n      updateMESSAGE(tpl);\n    }\n  },\n  'click a.saveEDIT': function (e, tpl) {\n    e.preventDefault();\n    updateMESSAGE(tpl);\n  },\n  'submit form.form-comments': function (e, tpl) {\n    e.preventDefault();\n    flxcomments(e, tpl, MESSAGE);\n  }\n});\n\ninsertMESSAGE = function (tpl) {\n  var subjectMESSAGE = tpl.$('input[name=\"subjectMESSAGE\"]').val();\n  var textMESSAGE = tpl.$('textarea[name=\"textMESSAGE\"]').val();\n  var dataTo = toMessage.get();\n\n  if (dataTo < 1) {\n    FlashMessages.sendWarning('Hello ' + UserName() + ', please input person at \"TO\", use ENTER to add them. ');\n    return;\n  }\n\n  if (!adaDATA(subjectMESSAGE) | !adaDATA(textMESSAGE)) {\n    FlashMessages.sendWarning('Please add subject or Messages text');\n    return;\n  }\n\n  MESSAGE.insert({\n    subject: subjectMESSAGE,\n    text: textMESSAGE,\n    aktifYN: 1,\n    createByID: UserID(),\n    createBy: UserName(),\n    createAt: new Date()\n  }, function (err, id) {\n    if (err) {\n      FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again, ' + err.toString());\n    } else {\n      var aPenerima = {};\n      aPenerima.idMessage = id;\n      aPenerima.aktifYN = 1;\n      aPenerima.createByID = UserID();\n      aPenerima.createBy = UserName();\n      aPenerima.createAt = new Date();\n      aPenerima.username = Meteor.user().username;\n      MESSAGEMEMBER.insert(aPenerima);\n\n      for (var i = 0; i < dataTo.length; i++) {\n        aPenerima = dataTo[i];\n        aPenerima.idMessage = id;\n        aPenerima.aktifYN = 1;\n        aPenerima.createByID = UserID();\n        aPenerima.createBy = UserName();\n        aPenerima.createAt = new Date();\n        MESSAGEMEMBER.insert(aPenerima);\n      }\n\n      Meteor.subscribe('message', Session.get('limit'));\n      Meteor.subscribe('messageMember', Session.get('limit'));\n      FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n      Session.set('isCreating', null);\n    }\n  });\n};\n\nupdateMESSAGE = function (tpl) {\n  var fromEditMESSAGE = tpl.$('input[name=\"fromEditMESSAGE\"]').val();\n  var toEditMESSAGE = tpl.$('input[name=\"toEditMESSAGE\"]').val();\n  var ccEditMESSAGE = tpl.$('input[name=\"ccEditMESSAGE\"]').val();\n  var subjectEditMESSAGE = tpl.$('input[name=\"subjectEditMESSAGE\"]').val();\n  var textEditMESSAGE = tpl.$('input[name=\"textEditMESSAGE\"]').val();\n\n  if (!adaDATA(fromEditMESSAGE) | !adaDATA(toEditMESSAGE) | !adaDATA(ccEditMESSAGE) | !adaDATA(subjectEditMESSAGE) | !adaDATA(textEditMESSAGE)) {\n    FlashMessages.sendWarning('Please complete all of the data to be . . .');\n    return;\n  }\n\n  MESSAGE.update({\n    _id: Session.get('idEditing')\n  }, {\n    $set: {\n      from: hideData(fromEditMESSAGE),\n      to: hideData(toEditMESSAGE),\n      cc: hideData(ccEditMESSAGE),\n      subject: hideData(subjectEditMESSAGE),\n      text: hideData(textEditMESSAGE),\n      updateByID: UserID(),\n      updateBy: UserName(),\n      updateAt: new Date()\n    }\n  }, function (err, id) {\n    if (err) {\n      FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n    } else {\n      Session.set('idEditing', '');\n      FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n    }\n  });\n};\n\ndeleteMESSAGE = function () {\n  if (!adaDATA(Session.get('idDeleting'))) {\n    FlashMessages.sendWarning('Please select data that you want to remove . . .');\n    return;\n  }\n\n  var dataMESSAGE = MESSAGEMEMBER.find({\n    username: Meteor.user().username,\n    idMessage: Session.get('idDeleting')\n  });\n  dataMESSAGE.map(function (p) {\n    MESSAGEMEMBER.update({\n      _id: p._id\n    }, {\n      $set: {\n        aktifYN: 0,\n        deleteByID: UserID(),\n        deleteBy: UserName(),\n        deleteAt: new Date()\n      }\n    }, function (err, id) {\n      if (err) {\n        FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n      } else {\n        Session.set('idEditing', '');\n        Meteor.subscribe('message', Session.get('limit'));\n        Meteor.subscribe('messageMember', Session.get('limit'));\n      }\n    });\n  });\n  Session.set('idEditing', '');\n};","map":{"version":3,"sources":["client/views/core/message.js"],"names":["Template","module","link","v","Session","ReactiveVar","toMessage","message","created","set","MENU","findOne","autorun","subscribtion","get","Meteor","subscribe","onRendered","ScrollHandler","helpers","isiMessage","converter","Showdown","isi","makeHtml","text","penerima","datasearchBox","objectCARI","TIMELINES","isLockMenu","sHeaderBackground","sTinggiPopUp","$","window","height","isCreating","messagesMember","MESSAGEMEMBER","find","idMessage","_id","messages","textSearch","adaDATA","replace","trim","dataMESSAGE","username","EmailUser","aktifYN","map","p","oFILTERS","$in","$or","subject","$regex","$options","oOPTIONS","sort","createAt","limit","MESSAGE","events","e","tpl","flxautocomplete","autocomplete","name","element","collection","MEMBER","field","fields","profile","filter","dataPilih","val","length","allmember","dataMember","push","document","getElementById","value","FlashMessages","sendError","penerimaAll","ArrayRemove","currentTarget","id","preventDefault","deleteMESSAGE","sendWarning","modal","toLowerCase","createBy","Scroll2Top","keyCode","insertMESSAGE","updateMESSAGE","flxcomments","subjectMESSAGE","textMESSAGE","dataTo","UserName","insert","createByID","UserID","Date","err","toString","aPenerima","user","i","sendSuccess","fromEditMESSAGE","toEditMESSAGE","ccEditMESSAGE","subjectEditMESSAGE","textEditMESSAGE","update","$set","from","hideData","to","cc","updateByID","updateBy","updateAt","deleteByID","deleteBy","deleteAt"],"mappings":"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","sourcesContent":["/**\n * Generated from flexurio tools\n * Flexurio By Pamungkas Jayuda yulius.jayuda@gmail.com / +628119003077\n */\n\nimport {Template} from \"meteor/templating\";\nimport {Session} from \"meteor/session\";\nimport {ReactiveVar} from 'meteor/reactive-var';\nimport \"./message.html\";\n\nvar toMessage = new ReactiveVar([]);\n\n\nTemplate.message.created = function () {\n    Session.set('limit', 50);\n    Session.set('oFILTERS', {});\n    Session.set('oOPTIONS', {});\n    Session.set('textSearch', '');\n    Session.set('namaHeader', 'DATA MESSAGE');\n    Session.set('dataDelete', '');\n    Session.set('isCreating', false);\n    Session.set('isEditing', false);\n\n    Session.set('oFILTERSMembers', {});\n    Session.set('oFILTERS', {});\n    Session.set('oOPTIONS', {});\n    Session.set('flxauto_message_status', true);\n    Session.set('flxauto_message_data', MENU.findOne());\n\n    this.autorun(function () {\n        subscribtion('member', {}, Session.get('oOPTIONS_toMessage'), 0);\n        Meteor.subscribe('message', Session.get('limit'));\n        Meteor.subscribe('messageMember', Session.get('limit'));\n    });\n};\n\nTemplate.message.onRendered(function () {\n    ScrollHandler();\n});\n\n\nTemplate.message.helpers({\n    isiMessage: function () {\n        var converter = new Showdown.converter();\n        var isi = converter.makeHtml(this.text);\n        return isi;\n    },\n\n    penerima: function () {\n        return toMessage.get();\n    },\n    datasearchBox: function () {\n        return Session.get('toMessage');\n    },\n    objectCARI: function () {\n        return TIMELINES.findOne();\n    },\n    isLockMenu: function () {\n        return isLockMenu();\n    },\n    sHeaderBackground: function () {\n        return sHeaderBackground;\n    },\n    sTinggiPopUp: function () {\n        return 0.8 * ($(window).height());\n    },\n    isCreating: function () {\n        return Session.get('isCreating');\n    },\n    messagesMember: function () {\n        return MESSAGEMEMBER.find({idMessage: this._id});\n    },\n    messages: function () {\n        var textSearch = '';\n        if (adaDATA(Session.get('textSearch'))) {\n            textSearch = Session.get('textSearch').replace('#', '').trim();\n        }\n\n        var dataMESSAGE = MESSAGEMEMBER.find({username:EmailUser(), aktifYN: 1});\n        var idMessage = dataMESSAGE.map(function (p) {\n            return p.idMessage\n        });\n\n        var oFILTERS = {\n            _id: {$in: idMessage},\n            aktifYN: 1,\n            $or: [\n                {subject: {$regex: textSearch, $options: 'i'}},\n                {text: {$regex: textSearch, $options: 'i'}}\n            ]\n        };\n\n        var oOPTIONS = {\n            sort: {createAt: -1},\n            limit: Session.get('limit')\n        };\n\n\n        Session.set('oOPTIONS', oOPTIONS);\n        Session.set('oFILTERS', oFILTERS);\n\n        return MESSAGE.find(\n            oFILTERS,\n            oOPTIONS\n        );\n    }\n});\n\nTemplate.message.events({\n    'keyup input#toMessage': function (e, tpl) {\n        flxautocomplete.autocomplete({\n            name: 'toMessage',\n            element: 'input#toMessage',\n            collection: MEMBER,\n            field: ['profile.name', 'username'],\n            fields: {profile: 1, username: 1},\n            limit: 0,\n            sort: {'profile.name': 1},\n            filter: {}\n        });\n    },\n\n    'change input#toMessage': function (e, tpl) {\n        var dataPilih = tpl.$('input[name=\"toMessage\"]').val();\n        if (dataPilih.length > 10) {\n            var allmember = toMessage.get();\n            dataMember = MEMBER.findOne({username: dataPilih});\n            if (adaDATA(dataMember)) {\n                allmember.push({username: dataMember.username});\n                toMessage.set(allmember);\n                document.getElementById(\"toMessage\").value = \"\";\n            } else {\n                FlashMessages.sendError('Emails not valid !');\n            }\n        }\n    },\n\n    'click a.hapusTerima': function (e, tpl) {\n        var penerimaAll = toMessage.get();\n        penerimaAll = ArrayRemove(penerimaAll, 'username', e.currentTarget.id);\n        toMessage.set(penerimaAll);\n    },\n    'click a.cancel': function (e, tpl) {\n        e.preventDefault();\n        Session.set('isCreating', false);\n        Session.set('isEditing', false);\n        Session.set('idEditing', '');\n\n    },\n\n    'click a.deleteDataOK': function (e, tpl) {\n        e.preventDefault();\n        deleteMESSAGE();\n        FlashMessages.sendWarning('Attention, ' + Session.get('dataDelete') + ' successfully DELETE !');\n        $(\"#modal_formDeleting\").modal('hide');\n    },\n    'click a.deleteData': function (e, tpl) {\n        e.preventDefault();\n        Session.set('dataDelete', Session.get('namaHeader').toLowerCase() + ' \"' + this.subject + '\" From \"' + this.createBy + '\" ');\n        Session.set('idDeleting', this._id);\n        $(\"#modal_formDeleting\").modal('show');\n    },\n\n    'click a.create': function (e, tpl) {\n        e.preventDefault();\n        toMessage.set([]);\n        Scroll2Top();\n        Session.set('isCreating', true);\n    },\n    'keyup #namaMESSAGE': function (e, tpl) {\n        e.preventDefault();\n        if (e.keyCode == 13) {\n            insertMESSAGE(tpl);\n        }\n    },\n    'click a.save': function (e, tpl) {\n        e.preventDefault();\n        insertMESSAGE(tpl);\n    },\n\n    'click a.editData': function (e, tpl) {\n        e.preventDefault();\n\n        Session.set('idEditing', this._id);\n    },\n    'keyup #namaEditMESSAGE': function (e, tpl) {\n        e.preventDefault();\n        if (e.keyCode == 13) {\n            updateMESSAGE(tpl);\n        }\n    },\n    'click a.saveEDIT': function (e, tpl) {\n        e.preventDefault();\n        updateMESSAGE(tpl);\n    },\n    'submit form.form-comments': function (e, tpl) {\n        e.preventDefault();\n        flxcomments(e, tpl, MESSAGE);\n    }\n\n});\n\n\ninsertMESSAGE = function (tpl) {\n    var subjectMESSAGE = tpl.$('input[name=\"subjectMESSAGE\"]').val();\n    var textMESSAGE = tpl.$('textarea[name=\"textMESSAGE\"]').val();\n    var dataTo = toMessage.get();\n\n    if (dataTo < 1) {\n        FlashMessages.sendWarning('Hello ' + UserName() + ', please input person at \"TO\", use ENTER to add them. ');\n        return;\n    }\n    if (!adaDATA(subjectMESSAGE) | !adaDATA(textMESSAGE)) {\n        FlashMessages.sendWarning('Please add subject or Messages text');\n        return;\n    }\n\n    MESSAGE.insert(\n        {\n            subject: subjectMESSAGE,\n            text: textMESSAGE,\n            aktifYN: 1,\n            createByID: UserID(),\n            createBy: UserName(),\n            createAt: new Date()\n        },\n        function (err, id) {\n            if (err) {\n                FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again, ' + err.toString());\n            } else {\n\n                var aPenerima = {};\n                aPenerima.idMessage = id;\n                aPenerima.aktifYN = 1;\n                aPenerima.createByID = UserID();\n                aPenerima.createBy = UserName();\n                aPenerima.createAt = new Date()\n                aPenerima.username = Meteor.user().username;\n                MESSAGEMEMBER.insert(aPenerima);\n\n                for (var i = 0; i < dataTo.length; i++) {\n                    aPenerima = dataTo[i];\n                    aPenerima.idMessage = id;\n                    aPenerima.aktifYN = 1;\n                    aPenerima.createByID = UserID();\n                    aPenerima.createBy = UserName();\n                    aPenerima.createAt = new Date()\n\n                    MESSAGEMEMBER.insert(aPenerima);\n\n                }\n                Meteor.subscribe('message', Session.get('limit'));\n                Meteor.subscribe('messageMember', Session.get('limit'));\n\n                FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n                Session.set('isCreating', null);\n            }\n        }\n    );\n};\n\n\nupdateMESSAGE = function (tpl) {\n\n\n    var fromEditMESSAGE = tpl.$('input[name=\"fromEditMESSAGE\"]').val();\n\n    var toEditMESSAGE = tpl.$('input[name=\"toEditMESSAGE\"]').val();\n\n    var ccEditMESSAGE = tpl.$('input[name=\"ccEditMESSAGE\"]').val();\n\n    var subjectEditMESSAGE = tpl.$('input[name=\"subjectEditMESSAGE\"]').val();\n\n    var textEditMESSAGE = tpl.$('input[name=\"textEditMESSAGE\"]').val();\n\n\n    if (!adaDATA(fromEditMESSAGE) | !adaDATA(toEditMESSAGE) | !adaDATA(ccEditMESSAGE) | !adaDATA(subjectEditMESSAGE) | !adaDATA(textEditMESSAGE)) {\n        FlashMessages.sendWarning('Please complete all of the data to be . . .');\n        return;\n    }\n\n    MESSAGE.update({_id: Session.get('idEditing')},\n        {\n            $set: {\n                from: hideData(fromEditMESSAGE),\n                to: hideData(toEditMESSAGE),\n                cc: hideData(ccEditMESSAGE),\n                subject: hideData(subjectEditMESSAGE),\n                text: hideData(textEditMESSAGE),\n\n                updateByID: UserID(),\n                updateBy: UserName(),\n                updateAt: new Date()\n            }\n        },\n        function (err, id) {\n            if (err) {\n                FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n            } else {\n                Session.set('idEditing', '');\n                FlashMessages.sendSuccess('Thanks, your data is successfully saved');\n            }\n        }\n    );\n};\n\ndeleteMESSAGE = function () {\n\n    if (!adaDATA(Session.get('idDeleting'))) {\n        FlashMessages.sendWarning('Please select data that you want to remove . . .');\n        return;\n    }\n\n    var dataMESSAGE = MESSAGEMEMBER.find({username:Meteor.user().username, idMessage:Session.get('idDeleting')});\n    dataMESSAGE.map(function (p) {\n        MESSAGEMEMBER.update({_id: p._id},\n            {\n                $set: {\n                    aktifYN: 0,\n                    deleteByID: UserID(),\n                    deleteBy: UserName(),\n                    deleteAt: new Date()\n                }\n            },\n            function (err, id) {\n                if (err) {\n                    FlashMessages.sendWarning('Sorry, Data could not be saved - Please repeat again.');\n                } else {\n                    Session.set('idEditing', '');\n                    Meteor.subscribe('message', Session.get('limit'));\n                    Meteor.subscribe('messageMember', Session.get('limit'));\n                }\n            }\n        );\n    });\n\n    Session.set('idEditing', '');\n\n\n};\n\n\n\n"]},"sourceType":"script","hash":"91a9afed256e8b2b450ad4c31122b8104ba6a8fd"}
