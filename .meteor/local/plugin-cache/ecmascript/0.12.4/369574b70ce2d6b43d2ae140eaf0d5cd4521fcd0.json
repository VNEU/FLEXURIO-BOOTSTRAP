{"metadata":{},"options":{"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/server/init/main.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","jsx",["flow",{}],["flow",{}],"objectRestSpread","objectRestSpread","dynamicImport","asyncGenerators","classProperties","classPrivateProperties"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.x86_64"},"sourceFileName":"server/init/main.js","filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/server/init/main.js","passPerPreset":false,"envName":"development","cwd":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","root":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP","plugins":[{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"Program":{"enter":[null],"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"generateLetDeclarations":true,"enforceStrictMode":false}},{"key":"syntax-flow","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"transform-flow-strip-types","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]},"ImportDeclaration":{"enter":[null,null]},"ClassProperty":{"enter":[null]},"ClassPrivateProperty":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"TypeCastExpression":{"enter":[null,null]},"CallExpression":{"enter":[null]},"OptionalCallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"ImportSpecifier":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"AnyTypeAnnotation":{"enter":[null]},"ArrayTypeAnnotation":{"enter":[null]},"BooleanTypeAnnotation":{"enter":[null]},"BooleanLiteralTypeAnnotation":{"enter":[null]},"NullLiteralTypeAnnotation":{"enter":[null]},"ClassImplements":{"enter":[null]},"DeclareClass":{"enter":[null]},"DeclareFunction":{"enter":[null]},"DeclareInterface":{"enter":[null]},"DeclareModule":{"enter":[null]},"DeclareModuleExports":{"enter":[null]},"DeclareTypeAlias":{"enter":[null]},"DeclareOpaqueType":{"enter":[null]},"DeclareVariable":{"enter":[null]},"DeclareExportDeclaration":{"enter":[null]},"DeclareExportAllDeclaration":{"enter":[null]},"DeclaredPredicate":{"enter":[null]},"ExistsTypeAnnotation":{"enter":[null]},"FunctionTypeAnnotation":{"enter":[null]},"FunctionTypeParam":{"enter":[null]},"GenericTypeAnnotation":{"enter":[null]},"InferredPredicate":{"enter":[null]},"InterfaceExtends":{"enter":[null]},"InterfaceDeclaration":{"enter":[null]},"InterfaceTypeAnnotation":{"enter":[null]},"IntersectionTypeAnnotation":{"enter":[null]},"MixedTypeAnnotation":{"enter":[null]},"EmptyTypeAnnotation":{"enter":[null]},"NullableTypeAnnotation":{"enter":[null]},"NumberLiteralTypeAnnotation":{"enter":[null]},"NumberTypeAnnotation":{"enter":[null]},"ObjectTypeAnnotation":{"enter":[null]},"ObjectTypeInternalSlot":{"enter":[null]},"ObjectTypeCallProperty":{"enter":[null]},"ObjectTypeIndexer":{"enter":[null]},"ObjectTypeProperty":{"enter":[null]},"ObjectTypeSpreadProperty":{"enter":[null]},"OpaqueType":{"enter":[null]},"QualifiedTypeIdentifier":{"enter":[null]},"StringLiteralTypeAnnotation":{"enter":[null]},"StringTypeAnnotation":{"enter":[null]},"ThisTypeAnnotation":{"enter":[null]},"TupleTypeAnnotation":{"enter":[null]},"TypeofTypeAnnotation":{"enter":[null]},"TypeAlias":{"enter":[null]},"TypeAnnotation":{"enter":[null]},"TypeParameter":{"enter":[null]},"TypeParameterDeclaration":{"enter":[null]},"TypeParameterInstantiation":{"enter":[null]},"UnionTypeAnnotation":{"enter":[null]},"Variance":{"enter":[null]},"VoidTypeAnnotation":{"enter":[null]},"ExportAllDeclaration":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]}},"options":{}},{"key":"transform-runtime","visitor":{"CallExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"MemberExpression":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true,"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"transform-meteor-dynamic-import","visitor":{"_exploded":{},"_verified":{},"CallExpression":{"enter":[null]}},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"transform-modules-commonjs","visitor":{"Program":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"allowTopLevelThis":true,"strictMode":false,"loose":true}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"_exploded":true,"_verified":true,"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]}},"options":{"loose":true}}],"presets":[],"generatorOpts":{"filename":"/Users/jayuda/Documents/PROJECT/FLEXURIO/FLEXURIO-BOOTSTRAP/server/init/main.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"server/init/main.js"}},"code":"DATATOKEN = new Mongo.Collection('dataToken');\nMeteor.startup(function () {\n  console.log(\"Flexurio - start on server . . . \");\n\n  if (MENU.find().count() === 0) {\n    [{\n      \"_id\": \"YjcMkpQt8NxF9pddYcE\",\n      \"namaMENU\": \"Dashboard\",\n      \"routerMENU\": \"/\",\n      \"groupMENU\": \"HOME\",\n      \"iconMENU\": \"glyphicon glyphicon-th-large\",\n      \"aktifYN\": 1\n    }, {\n      \"_id\": \"YjcMkpQt8NxF9pYcE\",\n      \"namaMENU\": \"Messages\",\n      \"routerMENU\": \"message\",\n      \"groupMENU\": \"HOME\",\n      \"iconMENU\": \"glyphicon glyphicon-envelope\",\n      \"aktifYN\": 1\n    }, {\n      \"namaMENU\": \"Menu\",\n      \"routerMENU\": \"menuGroup\",\n      \"groupMENU\": \"SETTINGS\",\n      \"iconMENU\": \"glyphicon glyphicon-th-list\",\n      aktifYN: 1\n    }, {\n      \"namaMENU\": \"Members\",\n      \"routerMENU\": \"member\",\n      \"groupMENU\": \"SETTINGS\",\n      \"iconMENU\": \"glyphicon glyphicon-user\",\n      aktifYN: 1\n    }, {\n      \"_id\": \"kaQdHiHmbbJkrW749\",\n      \"namaMENU\": \"Tipe WO\",\n      \"routerMENU\": \"woTipe\",\n      \"groupMENU\": \"WORK ORDER\",\n      \"iconMENU\": \"glyphicon glyphicon-list\",\n      aktifYN: 1\n    }, {\n      \"_id\": \"kaQdHiHmbbJkrdW749\",\n      \"namaMENU\": \"WO\",\n      \"routerMENU\": \"wo\",\n      \"groupMENU\": \"WORK ORDER\",\n      \"iconMENU\": \"glyphicon glyphicon-list\",\n      aktifYN: 1\n    }].forEach(function (dataMenu) {\n      MENU.insert(dataMenu);\n    });\n  }\n\n  if (MENUGROUP.find().count() === 0) {\n    [{\n      \"_id\": \"D8zEEzJxrZi8YFnhj\",\n      \"namaMENUGROUP\": \"HOME\",\n      \"iconMENUGROUP\": \"glyphicon glyphicon-home\",\n      \"locationsMENUGROUP\": \"1. Top Locations\",\n      \"aktifYN\": 1\n    }, {\n      \"namaMENUGROUP\": \"SETTINGS\",\n      \"iconMENUGROUP\": \"glyphicon glyphicon-wrench\",\n      \"locationsMENUGROUP\": \"2. Middle Locations\",\n      aktifYN: 1\n    }, {\n      \"namaMENUGROUP\": \"WORK ORDER\",\n      \"iconMENUGROUP\": \"glyphicon glyphicon-blackboard\",\n      \"locationsMENUGROUP\": \"2. Middle Locations\",\n      aktifYN: 1\n    }].forEach(function (dataMenuGroup) {\n      MENUGROUP.insert(dataMenuGroup);\n    });\n  }\n\n  if (MEMBER.find().count() === 0) {\n    var seedUserId = Accounts.createUser({\n      password: \"flx.indo\",\n      email: 'admin@flexurio.com',\n      username: 'admin@flexurio.com',\n      profile: {\n        name: 'administrator'\n      }\n    });\n  }\n\n  if (DATATOKEN.find().count() === 0) {\n    [{\n      \"sTokenKey\": \"QWjnk034K#JSND239NSD0&99mn_bKJort78s86fg0sd765fwjh4knsd*&jknerkwjf328\",\n      \"aktifYN\": true\n    }].forEach(function (dataToken) {\n      DATATOKEN.insert(dataToken);\n    });\n  }\n\n  var idAdmin = MEMBER.findOne({\n    'emails.address': 'admin@flexurio.com'\n  })._id;\n\n  Roles.addUsersToRoles(idAdmin, ['root', 'administrator'], Roles.GLOBAL_GROUP);\n  Roles.getUsersInRole(['root', 'administrator']).map(function (user, index, originalCursor) {\n    console.log(\"Flexurio - Check Auth Admin . . . \");\n    MENUAUTH.find({\n      userId: user._id\n    }).forEach(function (obj) {\n      MENUAUTH.remove({\n        _id: obj._id\n      });\n    });\n    MENU.find({\n      aktifYN: 1\n    }).forEach(function (obj) {\n      MENUAUTH.insert({\n        userId: user._id,\n        idMENU: obj._id,\n        namaMENU: obj.namaMENU,\n        groupMENU: obj.groupMENU,\n        routerMENU: obj.routerMENU,\n        authTipe: \"ADD\",\n        aktifYN: 1\n      });\n      MENUAUTH.insert({\n        userId: user._id,\n        idMENU: obj._id,\n        namaMENU: obj.namaMENU,\n        groupMENU: obj.groupMENU,\n        routerMENU: obj.routerMENU,\n        authTipe: \"EDIT\",\n        aktifYN: 1\n      });\n      MENUAUTH.insert({\n        userId: user._id,\n        idMENU: obj._id,\n        namaMENU: obj.namaMENU,\n        groupMENU: obj.groupMENU,\n        routerMENU: obj.routerMENU,\n        authTipe: \"DELETE\",\n        aktifYN: 1\n      });\n      MENUAUTH.insert({\n        userId: user._id,\n        idMENU: obj._id,\n        namaMENU: obj.namaMENU,\n        groupMENU: obj.groupMENU,\n        routerMENU: obj.routerMENU,\n        authTipe: \"CONFIRM\",\n        aktifYN: 1\n      });\n      MENUAUTH.insert({\n        userId: user._id,\n        idMENU: obj._id,\n        namaMENU: obj.namaMENU,\n        groupMENU: obj.groupMENU,\n        routerMENU: obj.routerMENU,\n        authTipe: \"PRINT\",\n        aktifYN: 1\n      });\n      MENUAUTH.insert({\n        userId: user._id,\n        idMENU: obj._id,\n        namaMENU: obj.namaMENU,\n        groupMENU: obj.groupMENU,\n        routerMENU: obj.routerMENU,\n        authTipe: \"DOWNLOAD\",\n        aktifYN: 1\n      });\n    });\n  });\n});","map":{"version":3,"sources":["server/init/main.js"],"names":["DATATOKEN","Mongo","Collection","Meteor","startup","console","log","MENU","find","count","aktifYN","forEach","dataMenu","insert","MENUGROUP","dataMenuGroup","MEMBER","seedUserId","Accounts","createUser","password","email","username","profile","name","dataToken","idAdmin","findOne","_id","Roles","addUsersToRoles","GLOBAL_GROUP","getUsersInRole","map","user","index","originalCursor","MENUAUTH","userId","obj","remove","idMENU","namaMENU","groupMENU","routerMENU","authTipe"],"mappings":"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","sourcesContent":["DATATOKEN = new Mongo.Collection('dataToken');\nMeteor.startup(function () {\n    console.log(\"Flexurio - start on server . . . \");\n\n    if (MENU.find().count() === 0) {\n        [\n            {\n                \"_id\": \"YjcMkpQt8NxF9pddYcE\",\n                \"namaMENU\": \"Dashboard\",\n                \"routerMENU\": \"/\",\n                \"groupMENU\": \"HOME\",\n                \"iconMENU\": \"glyphicon glyphicon-th-large\",\n                \"aktifYN\": 1\n            },\n            {\n                \"_id\": \"YjcMkpQt8NxF9pYcE\",\n                \"namaMENU\": \"Messages\",\n                \"routerMENU\": \"message\",\n                \"groupMENU\": \"HOME\",\n                \"iconMENU\": \"glyphicon glyphicon-envelope\",\n                \"aktifYN\": 1\n            },\n            {\n                \"namaMENU\": \"Menu\",\n                \"routerMENU\": \"menuGroup\",\n                \"groupMENU\": \"SETTINGS\",\n                \"iconMENU\": \"glyphicon glyphicon-th-list\",\n                aktifYN : 1\n            },\n            {\n                \"namaMENU\": \"Members\",\n                \"routerMENU\": \"member\",\n                \"groupMENU\": \"SETTINGS\",\n                \"iconMENU\": \"glyphicon glyphicon-user\",\n                aktifYN : 1\n            },\n            {\n                \"_id\": \"kaQdHiHmbbJkrW749\",\n                \"namaMENU\": \"Tipe WO\",\n                \"routerMENU\": \"woTipe\",\n                \"groupMENU\": \"WORK ORDER\",\n                \"iconMENU\": \"glyphicon glyphicon-list\",\n                aktifYN : 1\n            },\n            {\n                \"_id\": \"kaQdHiHmbbJkrdW749\",\n                \"namaMENU\": \"WO\",\n                \"routerMENU\": \"wo\",\n                \"groupMENU\": \"WORK ORDER\",\n                \"iconMENU\": \"glyphicon glyphicon-list\",\n                aktifYN : 1\n            }\n        ].forEach(function (dataMenu) {\n            MENU.insert(dataMenu);\n        });\n    }\n\n    if (MENUGROUP.find().count() === 0) {\n        [\n            {\n                \"_id\": \"D8zEEzJxrZi8YFnhj\",\n                \"namaMENUGROUP\": \"HOME\",\n                \"iconMENUGROUP\": \"glyphicon glyphicon-home\",\n                \"locationsMENUGROUP\": \"1. Top Locations\",\n                \"aktifYN\": 1\n            },\n            {\n                \"namaMENUGROUP\": \"SETTINGS\",\n                \"iconMENUGROUP\": \"glyphicon glyphicon-wrench\",\n                \"locationsMENUGROUP\": \"2. Middle Locations\",\n                aktifYN : 1\n            },\n            {\n                \"namaMENUGROUP\": \"WORK ORDER\",\n                \"iconMENUGROUP\": \"glyphicon glyphicon-blackboard\",\n                \"locationsMENUGROUP\": \"2. Middle Locations\",\n                aktifYN : 1\n            }\n        ].forEach(function (dataMenuGroup) {\n            MENUGROUP.insert(dataMenuGroup);\n        });\n    }\n\n    if (MEMBER.find().count() === 0) {\n        var seedUserId = Accounts.createUser({\n            password: \"flx.indo\",\n            email: 'admin@flexurio.com',\n            username: 'admin@flexurio.com',\n            profile: {\n                name: 'administrator'\n            }\n        });\n    }\n\n    if (DATATOKEN.find().count() === 0) {\n        [\n            {\n                \"sTokenKey\": \"QWjnk034K#JSND239NSD0&99mn_bKJort78s86fg0sd765fwjh4knsd*&jknerkwjf328\",\n                \"aktifYN\": true\n            }\n        ].forEach(function (dataToken) {\n            DATATOKEN.insert(dataToken);\n        });\n    }\n\n    var idAdmin = MEMBER.findOne({'emails.address': 'admin@flexurio.com'})._id;\n    Roles.addUsersToRoles(idAdmin, ['root', 'administrator'], Roles.GLOBAL_GROUP);\n\n    Roles.getUsersInRole(['root', 'administrator']).map(function (user, index, originalCursor) {\n        console.log(\"Flexurio - Check Auth Admin . . . \");\n\n        MENUAUTH.find({userId: user._id}).forEach(function (obj) {\n            MENUAUTH.remove({_id: obj._id});\n        });\n        MENU.find({aktifYN: 1}).forEach(function (obj) {\n            MENUAUTH.insert(\n                {\n                    userId: user._id,\n                    idMENU: obj._id,\n                    namaMENU: obj.namaMENU,\n                    groupMENU: obj.groupMENU,\n                    routerMENU: obj.routerMENU,\n                    authTipe: \"ADD\",\n                    aktifYN : 1\n                }\n            );\n\n            MENUAUTH.insert(\n                {\n                    userId: user._id,\n                    idMENU: obj._id,\n                    namaMENU: obj.namaMENU,\n                    groupMENU: obj.groupMENU,\n                    routerMENU: obj.routerMENU,\n                    authTipe: \"EDIT\",\n                    aktifYN : 1\n                }\n            );\n\n            MENUAUTH.insert(\n                {\n                    userId: user._id,\n                    idMENU: obj._id,\n                    namaMENU: obj.namaMENU,\n                    groupMENU: obj.groupMENU,\n                    routerMENU: obj.routerMENU,\n                    authTipe: \"DELETE\",\n                    aktifYN : 1\n                }\n            );\n\n            MENUAUTH.insert(\n                {\n                    userId: user._id,\n                    idMENU: obj._id,\n                    namaMENU: obj.namaMENU,\n                    groupMENU: obj.groupMENU,\n                    routerMENU: obj.routerMENU,\n                    authTipe: \"CONFIRM\",\n                    aktifYN : 1\n                }\n            );\n\n            MENUAUTH.insert(\n                {\n                    userId: user._id,\n                    idMENU: obj._id,\n                    namaMENU: obj.namaMENU,\n                    groupMENU: obj.groupMENU,\n                    routerMENU: obj.routerMENU,\n                    authTipe: \"PRINT\",\n                    aktifYN : 1\n                }\n            );\n\n            MENUAUTH.insert(\n                {\n                    userId: user._id,\n                    idMENU: obj._id,\n                    namaMENU: obj.namaMENU,\n                    groupMENU: obj.groupMENU,\n                    routerMENU: obj.routerMENU,\n                    authTipe: \"DOWNLOAD\",\n                    aktifYN : 1\n                }\n            );\n\n\n        });\n    });\n});\n"]},"sourceType":"script","hash":"369574b70ce2d6b43d2ae140eaf0d5cd4521fcd0"}
